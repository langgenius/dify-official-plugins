identity:
  name: "ernie-irag-edit"
  author: "langgenius"
  label:
    en_US: "ERNIE iRAG Edit"
    zh_Hans: "ERNIE iRAG Edit"
    pt_BR: "ERNIE iRAG Edit"
    ja_JP: "ERNIE iRAG 編集"
description:
  human:
    en_US: "ERNIE iRAG Image Editing Model - Supports URL, Base64, and Dify file variables as input"
    zh_Hans: "ERNIE iRAG 图像编辑模型 - 支持 URL、Base64 和 Dify 文件变量作为输入"
    pt_BR: "Modelo de Edição ERNIE iRAG - Suporta URL, Base64 e variáveis de arquivo Dify como entrada"
    ja_JP: "ERNIE iRAG 画像編集モデル - URL、Base64、Difyファイル変数を入力としてサポート"
  llm: "Edit image using ERNIE iRAG Edit model with advanced Chinese language understanding and image-to-image capabilities. Supports multiple input formats: HTTP/HTTPS URLs, Data URLs (base64), and Dify file transfer variables from workflow connections."
parameters:
  - name: prompt
    type: string
    required: true
    label:
      en_US: "Edit Prompt"
      zh_Hans: "编辑提示词"
      pt_BR: "Prompt de Edição"
      ja_JP: "編集プロンプト"
    human_description:
      en_US: "Text description of the edits you want to make to the image"
      zh_Hans: "您想要对图像进行的编辑的文字描述"
      pt_BR: "Descrição textual das edições que você deseja fazer na imagem"
      ja_JP: "画像に加えたい編集のテキスト説明"
    llm_description: "Text prompt for ERNIE iRAG Edit, describing the desired edits to the input image"
    form: llm
  
  - name: image
    type: string
    required: true
    label:
      en_US: "Input Image"
      zh_Hans: "输入图像"
      pt_BR: "Imagem de Entrada"
      ja_JP: "入力画像"
    human_description:
      en_US: "Image to edit. Supports: URL (http/https), Data URL (base64), Dify file variable, or base64 string. Connect from other nodes in workflow."
      zh_Hans: "要编辑的图像。支持：URL（http/https）、Data URL（base64）、Dify 文件变量或 base64 字符串。可从工作流中的其他节点连接。"
      pt_BR: "Imagem para editar. Suporta: URL (http/https), URL de dados (base64), variável de arquivo Dify ou string base64. Conecte-se de outros nós no fluxo de trabalho."
      ja_JP: "編集する画像。サポート: URL (http/https)、データURL (base64)、Difyファイル変数、またはbase64文字列。工作フローの他のノードから接続可能。"
    llm_description: "Input image for ERNIE iRAG Edit. Accepts URLs, base64 data, or Dify file transfer variables. In workflows, connect output from image generation nodes directly."
    form: form
  
  - name: guidance
    type: number
    required: false
    label:
      en_US: "Guidance Scale"
      zh_Hans: "引导强度"
      pt_BR: "Escala de Orientação"
      ja_JP: "ガイダンススケール"
    human_description:
      en_US: "Guidance scale for image editing (1.0-20.0)"
      zh_Hans: "图像编辑的引导强度 (1.0-20.0)"
      pt_BR: "Escala de orientação para edição de imagem (1.0-20.0)"
      ja_JP: "画像編集のガイダンススケール (1.0-20.0)"
    llm_description: "Guidance scale for ERNIE iRAG Edit. Higher values follow the prompt more closely. Range: 1.0-20.0"
    form: form
    default: 7.5
    min: 1.0
    max: 20.0
  
  - name: watermark
    type: boolean
    required: false
    label:
      en_US: "Add Watermark"
      zh_Hans: "添加水印"
      pt_BR: "Adicionar Marca d'água"
      ja_JP: "透かしを追加"
    human_description:
      en_US: "Whether to add watermark to the edited image"
      zh_Hans: "是否在编辑后的图像中添加水印"
      pt_BR: "Se deve adicionar marca d'água à imagem editada"
      ja_JP: "編集された画像に透かしを追加するかどうか"
    llm_description: "Whether to add watermark to the edited image using ERNIE iRAG Edit"
    form: form
    default: false

  - name: image_format
    type: select
    required: false
    label:
      en_US: "Image Format"
      zh_Hans: "图片格式"
      pt_BR: "Formato de Imagem"
      ja_JP: "画像フォーマット"
    human_description:
      en_US: "Output image format"
      zh_Hans: "输出图片格式"
      pt_BR: "Formato de saída da imagem"
      ja_JP: "出力画像フォーマット"
    llm_description: "Image format for ERNIE iRAG Edit generation"
    form: form
    default: "png"
    options:
      - value: "png"
        label:
          en_US: "PNG"
          zh_Hans: "PNG"
          pt_BR: "PNG"
          ja_JP: "PNG"
      - value: "jpeg"
        label:
          en_US: "JPEG"
          zh_Hans: "JPEG"
          pt_BR: "JPEG"
          ja_JP: "JPEG"
      - value: "webp"
        label:
          en_US: "WebP"
          zh_Hans: "WebP"
          pt_BR: "WebP"
          ja_JP: "WebP"
extra:
  python:
    source: tools/ernie-irag-edit.py
