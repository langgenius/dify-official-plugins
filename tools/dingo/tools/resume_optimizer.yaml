identity:
  author: dingo
  name: resume_optimizer
  label:
    en_US: Resume Optimizer
    zh_Hans: 简历优化器

description:
  human:
    en_US: |
      ATS-focused resume optimizer with dual-mode support.
      - Targeted Mode: When match_report is provided, injects missing keywords, de-emphasizes negative keywords, and applies STAR polish.
      - General Mode: When match_report is empty, focuses on STAR polish and date/format unification only.
    zh_Hans: |
      ATS 导向的简历优化器，支持双模式运行。
      - 针对性优化模式：提供 match_report 时，注入缺失关键词、弱化负面关键词、应用 STAR 润色。
      - 通用优化模式：不提供 match_report 时，仅进行 STAR 润色和格式统一。
  llm: Optimize resumes for ATS scoring with keyword injection, de-emphasis of negative keywords, and STAR method polishing. Supports dual-mode (Targeted/General) based on whether match_report is provided.

parameters:
  - name: resume_content
    type: string
    required: true
    label:
      en_US: Resume Content
      zh_Hans: 简历内容
    human_description:
      en_US: Your resume content in markdown format
      zh_Hans: 您的简历内容（markdown 格式）
    form: llm

  - name: target_position
    type: string
    required: false
    label:
      en_US: Target Position
      zh_Hans: 目标岗位
    human_description:
      en_US: The job position you are applying for (optional, used for context)
      zh_Hans: 您要应聘的岗位（可选，用于上下文理解）
    form: llm

  - name: match_report
    type: string
    required: false
    label:
      en_US: Keyword Match Report
      zh_Hans: 关键词匹配报告
    human_description:
      en_US: |
        JSON output from KeywordMatcher tool. If provided, enables Targeted Mode with keyword injection and de-emphasis.
        If empty or invalid, runs in General Mode (STAR polish only).
      zh_Hans: |
        KeywordMatcher 工具的 JSON 输出。如果提供，启用针对性优化模式（关键词注入和弱化）。
        如果为空或无效，运行通用优化模式（仅 STAR 润色）。
    form: llm

  - name: language
    type: select
    required: false
    default: zh_Hans
    label:
      en_US: Output Language
      zh_Hans: 输出语言
    human_description:
      en_US: Choose the language for the optimization report
      zh_Hans: 选择优化报告的语言
    form: form
    options:
      - value: zh_Hans
        label:
          en_US: Chinese
          zh_Hans: 中文
      - value: en_US
        label:
          en_US: English
          zh_Hans: English

extra:
  python:
    source: tools/resume_optimizer.py
