identity:
  name: list_events
  author: langgenius
  label:
    en_US: List Events
    zh_Hans: 列出事件
    ja_JP: イベントを一覧表示
  icon: icon.png

description:
  human:
    en_US: List events from a specific calendar within a date range
    zh_Hans: 列出特定日历在指定日期范围内的事件
    ja_JP: 指定したカレンダーの日付範囲内のイベントを一覧表示
  llm: Retrieves events from a specified calendar, with optional date filtering and result limits

parameters:
  - name: calendar_id
    type: string
    required: false
    default: "primary"
    form: llm
    label:
      en_US: Calendar ID
      zh_Hans: 日历ID
      ja_JP: カレンダーID
    human_description:
      en_US: The calendar ID to list events from (use 'primary' for main calendar)
      zh_Hans: 要列出事件的日历ID（使用'primary'表示主日历）
      ja_JP: イベントを一覧表示するカレンダーID（メインカレンダーは'primary'を使用）
    llm_description: Calendar identifier or 'primary' for the user's primary calendar

  - name: time_min
    type: string
    required: false
    form: llm
    label:
      en_US: Start Time
      zh_Hans: 开始时间
      ja_JP: 開始時間
    human_description:
      en_US: Lower bound for event start time (ISO format, e.g., 2024-01-01T00:00:00Z)
      zh_Hans: 事件开始时间的下限（ISO格式，如：2024-01-01T00:00:00Z）
      ja_JP: イベント開始時間の下限（ISO形式、例：2024-01-01T00:00:00Z）
    llm_description: Events starting after this time (RFC3339 format, e.g., 2024-01-01T00:00:00Z)

  - name: time_max
    type: string
    required: false
    form: llm
    label:
      en_US: End Time
      zh_Hans: 结束时间
      ja_JP: 終了時間
    human_description:
      en_US: Upper bound for event start time (ISO format, e.g., 2024-12-31T23:59:59Z)
      zh_Hans: 事件开始时间的上限（ISO格式，如：2024-12-31T23:59:59Z）
      ja_JP: イベント開始時間の上限（ISO形式、例：2024-12-31T23:59:59Z）
    llm_description: Events starting before this time (RFC3339 format, e.g., 2024-12-31T23:59:59Z)

  - name: max_results
    type: number
    required: false
    default: 10
    form: llm
    label:
      en_US: Maximum Results
      zh_Hans: 最大结果数
      ja_JP: 最大結果数
    human_description:
      en_US: Maximum number of events to return (1-2500)
      zh_Hans: 返回的最大事件数量（1-2500）
      ja_JP: 返す最大イベント数（1-2500）
    llm_description: Maximum number of events to retrieve (between 1 and 2500, default is 10)
    min: 1
    max: 2500

  - name: show_deleted
    type: boolean
    required: false
    default: false
    form: llm
    label:
      en_US: Show Deleted Events
      zh_Hans: 显示已删除事件
      ja_JP: 削除されたイベントを表示
    human_description:
      en_US: Whether to include deleted events in the results
      zh_Hans: 是否在结果中包含已删除的事件
      ja_JP: 結果に削除されたイベントを含めるかどうか
    llm_description: Include deleted events in the response (true/false)

  - name: single_events
    type: boolean
    required: false
    default: true
    form: llm
    label:
      en_US: Expand Recurring Events
      zh_Hans: 展开重复事件
      ja_JP: 繰り返しイベントを展開
    human_description:
      en_US: Whether to expand recurring events into individual instances
      zh_Hans: 是否将重复事件展开为单独的实例
      ja_JP: 繰り返しイベントを個別のインスタンスに展開するかどうか
    llm_description: Expand recurring events into individual instances (recommended)

  - name: order_by
    type: select
    required: false
    default: "startTime"
    form: llm
    label:
      en_US: Order By
      zh_Hans: 排序方式
      ja_JP: 並び順
    human_description:
      en_US: How to order the events in the results
      zh_Hans: 结果中事件的排序方式
      ja_JP: 結果でのイベントの並び順
    llm_description: Order events by start time or last update time
    options:
      - value: startTime
        label:
          en_US: Start Time
          zh_Hans: 开始时间
          ja_JP: 開始時間
      - value: updated
        label:
          en_US: Last Updated
          zh_Hans: 最后更新时间
          ja_JP: 最終更新時間

extra:
  python:
    source: tools/list_events.py

output_schema:
  type: object
  properties:
    success:
      type: boolean
      description: Whether the operation was successful
    message:
      type: string
      description: Human-readable result message
    events:
      type: array
      description: List of calendar events
      items:
        type: object
        properties:
          id:
            type: string
            description: Event ID
          title:
            type: string
            description: Event title/summary
          description:
            type: string
            description: Event description
          location:
            type: string
            description: Event location
          start_time:
            type: string
            description: Event start time
          end_time:
            type: string
            description: Event end time
          all_day:
            type: boolean
            description: Whether this is an all-day event
          status:
            type: string
            description: Event status (confirmed, tentative, cancelled)
          created:
            type: string
            description: Event creation time
          updated:
            type: string
            description: Event last update time
          creator:
            type: object
            description: Event creator information
          organizer:
            type: object
            description: Event organizer information
          attendees:
            type: array
            description: List of event attendees
          html_link:
            type: string
            description: Link to event in Google Calendar
          visibility:
            type: string
            description: Event visibility
          recurring_event_id:
            type: string
            description: ID of recurring event if applicable
          recurrence:
            type: array
            description: Recurrence rules
    total_count:
      type: integer
      description: Number of events returned
    calendar_id:
      type: string
      description: Calendar ID used for the query
    next_page_token:
      type: string
      description: Token for retrieving next page of results
    time_zone:
      type: string
      description: Calendar time zone