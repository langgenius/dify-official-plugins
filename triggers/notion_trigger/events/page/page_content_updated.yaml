identity:
  name: page_content_updated
  author: langgenius
  label:
    en_US: Page Content Updated
    ja_JP: Page Content Updated
    zh_Hans: Page Content Updated
description:
  en_US: Triggered when Notion emits the page.content_updated webhook event.
  ja_JP: Notion で page.content_updated Webhook イベントが発生したときにトリガーされます。
  zh_Hans: 当 Notion 触发 page.content_updated Webhook 事件时触发。
parameters:
- name: workspace_filter
  type: string
  required: false
  label:
    en_US: Workspace Filter
    ja_JP: ワークスペースフィルター
    zh_Hans: 工作区过滤器
  help:
    en_US: "Comma separated workspace IDs to forward events from. Leave blank to accept all workspaces."
    ja_JP: "イベントを転送するワークスペース ID をカンマ区切りで指定します。空欄の場合はすべてを受け入れます。"
    zh_Hans: "使用逗号分隔的工作区 ID，仅接收这些工作区的事件。留空接收所有工作区。"

output_schema:
  type: object
  properties:
    id:
      type: string
    type:
      type: string
    timestamp:
      type: string
    workspace_id:
      type: string
    subscription_id:
      type: string
    integration_id:
      type: string
    entity:
      type: object
    entity_content:
      type: object
      description: Full page object retrieved from Notion API.
      properties:
        object:
          type: string
          description: Always `page`.
        id:
          type: string
        created_time:
          type: string
        last_edited_time:
          type: string
        archived:
          type: boolean
        icon:
          type: object
          description: Page icon details.
        cover:
          type: object
          description: Page cover details.
        parent:
          type: object
          description: Parent reference for the page.
        properties:
          type: object
          description: Page properties keyed by property name.
        url:
          type: string
          description: Canonical Notion URL for the page.
      required: [object, id]
    block_children:
      type: object
      description: Complete page content blocks fetched from Notion.
      properties:
        results:
          type: array
          description: Immediate child blocks of the page.
          items:
            type: object
    data:
      type: object
  required: [id, type, timestamp, workspace_id]

extra:
  python:
    source: events/page/page_content_updated.py
