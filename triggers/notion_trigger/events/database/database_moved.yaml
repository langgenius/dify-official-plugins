identity:
  name: database_moved
  author: langgenius
  label:
    en_US: Database Moved
    ja_JP: Database Moved
    zh_Hans: Database Moved
description:
  en_US: Triggered when Notion emits the database.moved webhook event.
  ja_JP: Notion で database.moved Webhook イベントが発生したときにトリガーされます。
  zh_Hans: 当 Notion 触发 database.moved Webhook 事件时触发。
parameters:
- name: workspace_filter
  type: string
  required: false
  label:
    en_US: Workspace Filter
    ja_JP: ワークスペースフィルター
    zh_Hans: 工作区过滤器
  description:
    en_US: "Comma separated workspace IDs to forward events from. Leave blank to accept all workspaces."
    ja_JP: "イベントを転送するワークスペース ID をカンマ区切りで指定します。空欄の場合はすべてを受け入れます。"
    zh_Hans: "使用逗号分隔的工作区 ID，仅接收这些工作区的事件。留空接收所有工作区。"

output_schema:
  type: object
  properties:
    id:
      type: string
    type:
      type: string
    timestamp:
      type: string
    workspace_id:
      type: string
    subscription_id:
      type: string
    integration_id:
      type: string
    entity:
      type: object
    entity_content:
      type: object
      description: Full database object retrieved from Notion API.
      properties:
        object:
          type: string
          description: Always `database`.
        id:
          type: string
        title:
          type: array
          description: Rich text title for the database.
          items:
            type: object
        parent:
          type: object
          description: Parent reference for the database.
        is_inline:
          type: boolean
        data_sources:
          type: array
          description: Data sources defined under the database.
          items:
            type: object
        properties:
          type: object
          description: Database schema keyed by property name.
        cover:
          type: object
        icon:
          type: object
      required: [object, id]
    data:
      type: object
  required: [id, type, timestamp, workspace_id]

extra:
  python:
    source: events/database/database_moved.py
